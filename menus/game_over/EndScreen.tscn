[gd_scene load_steps=3 format=2]

[ext_resource path="res://ui/PlayerScore(DeleteLater).tscn" type="PackedScene" id=1]

[sub_resource type="GDScript" id=1]
script/source = "extends Control


# Declare member variables here. Examples:
# var a = 2
# var b = \"text\"

export(Array, NodePath) var scores

# Called when the node enters the scene tree for the first time.
func _ready():
	var button = find_node('Again')
	button.grab_focus()
	
	for i in range(len(scores)):
		scores[i] = get_node(scores[i])
	find_node('HBoxContainer').show()
	hide_extra()


# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
#	hide_extra()
	
func hide_extra():
	if Global.number_of_players < 4 and len(scores) >= 3:
		scores[3].hide()
	if Global.number_of_players < 3 and len(scores) >= 2:
		scores[2].hide()
	if Global.number_of_players < 2 and len(scores) >= 1:
		scores[1].hide()
	if Global.number_of_players < 1 and len(scores) >= 0:
		scores[0].hide()


func _on_Again_pressed():
	Global.start()


func _on_Exit_pressed():
	Global.load_scene('start')
	
func _unhandled_input(event):
	Functions.control_to_UI(event)
"

[node name="Control" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
script = SubResource( 1 )
__meta__ = {
"_edit_use_anchors_": false
}
scores = [ NodePath("CanvasLayer/ScreenContainer/VBoxContainer/HBoxContainer/Score1"), NodePath("CanvasLayer/ScreenContainer/VBoxContainer/HBoxContainer/Score2"), NodePath("CanvasLayer/ScreenContainer/VBoxContainer/HBoxContainer/Score3"), NodePath("CanvasLayer/ScreenContainer/VBoxContainer/HBoxContainer/Score4") ]

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ScreenContainer" type="MarginContainer" parent="CanvasLayer"]
anchor_right = 1.0
anchor_bottom = 1.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/ScreenContainer"]
margin_right = 1024.0
margin_bottom = 600.0
custom_constants/separation = 10

[node name="TopPadding" type="MarginContainer" parent="CanvasLayer/ScreenContainer/VBoxContainer"]
margin_right = 1024.0
margin_bottom = 268.0
size_flags_vertical = 3

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/ScreenContainer/VBoxContainer"]
visible = false
margin_top = 215.0
margin_right = 1024.0
margin_bottom = 330.0
custom_constants/separation = 20

[node name="LeftPadding" type="MarginContainer" parent="CanvasLayer/ScreenContainer/VBoxContainer/HBoxContainer"]
margin_right = 322.0
margin_bottom = 115.0
size_flags_horizontal = 3

[node name="Score1" parent="CanvasLayer/ScreenContainer/VBoxContainer/HBoxContainer" instance=ExtResource( 1 )]
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 342.0
margin_right = 412.0
margin_bottom = 115.0
player_id = 1

[node name="Score2" parent="CanvasLayer/ScreenContainer/VBoxContainer/HBoxContainer" instance=ExtResource( 1 )]
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 432.0
margin_right = 502.0
margin_bottom = 115.0
player_id = 2

[node name="Score3" parent="CanvasLayer/ScreenContainer/VBoxContainer/HBoxContainer" instance=ExtResource( 1 )]
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 522.0
margin_right = 592.0
margin_bottom = 115.0
player_id = 3

[node name="Score4" parent="CanvasLayer/ScreenContainer/VBoxContainer/HBoxContainer" instance=ExtResource( 1 )]
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 612.0
margin_right = 682.0
margin_bottom = 115.0
player_id = 4

[node name="RightPadding" type="MarginContainer" parent="CanvasLayer/ScreenContainer/VBoxContainer/HBoxContainer"]
margin_left = 702.0
margin_right = 1024.0
margin_bottom = 115.0
size_flags_horizontal = 3

[node name="HBoxContainer2" type="HBoxContainer" parent="CanvasLayer/ScreenContainer/VBoxContainer"]
margin_top = 278.0
margin_right = 1024.0
margin_bottom = 322.0

[node name="Leftpadding" type="MarginContainer" parent="CanvasLayer/ScreenContainer/VBoxContainer/HBoxContainer2"]
margin_right = 466.0
margin_bottom = 44.0
size_flags_horizontal = 3

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/ScreenContainer/VBoxContainer/HBoxContainer2"]
margin_left = 470.0
margin_right = 553.0
margin_bottom = 44.0

[node name="Again" type="Button" parent="CanvasLayer/ScreenContainer/VBoxContainer/HBoxContainer2/VBoxContainer"]
margin_right = 83.0
margin_bottom = 20.0
text = "Again"

[node name="Exit" type="Button" parent="CanvasLayer/ScreenContainer/VBoxContainer/HBoxContainer2/VBoxContainer"]
margin_top = 24.0
margin_right = 83.0
margin_bottom = 44.0
text = "Main Menu"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Rightpadding" type="MarginContainer" parent="CanvasLayer/ScreenContainer/VBoxContainer/HBoxContainer2"]
margin_left = 557.0
margin_right = 1024.0
margin_bottom = 44.0
size_flags_horizontal = 3

[node name="BottomPadding" type="MarginContainer" parent="CanvasLayer/ScreenContainer/VBoxContainer"]
margin_top = 332.0
margin_right = 1024.0
margin_bottom = 600.0
size_flags_vertical = 3

[connection signal="pressed" from="CanvasLayer/ScreenContainer/VBoxContainer/HBoxContainer2/VBoxContainer/Again" to="." method="_on_Again_pressed"]
[connection signal="pressed" from="CanvasLayer/ScreenContainer/VBoxContainer/HBoxContainer2/VBoxContainer/Exit" to="." method="_on_Exit_pressed"]
